<style>
    #el {
        width: 30px;
        height: 30px;
        background-color: red;
    }
</style>



<!-- alloyFinger -->
<div id="el"></div>
<button id="pause" onclick="pause()">pause</button>
<button id="resume" onclick="resume()">resume </button>
<script>
    const el = document.getElementById('el');
    let end = 400,
        duration = 5000,
        start = 0
    let startTime = Date.now();
    // frame
    // setInterval(() => {
    //     // console.log(1)
    // }, 16)

    function tick() {
        let hasPassed = Date.now() - startTime;
        let progress = hasPassed / duration;
        if (progress >= 1) {
            el.style.transform = ` translate3d(${x}px,0,0)`
            return;
        }
        let x = progress * (end - start);
        el.style.transform = ` translate3d(${x}px,0,0)`
            // console.log(1);
        rafId = requestAnimationFrame(tick)
    }
    var rafId = null;
    rafId = requestAnimationFrame(tick)

    function pause() {
        pauseTime = Date.now();
        cancelAnimationFrame(rafId);
    }

    function resume() {
        startTime += Date.now() - pauseTime
        rafId = requestAnimationFrame(tick)
    }
    // cancelAnimationFrame
    //60Hz 1000/60 = 16.666666ms
    // requestAnimationFrame能够确保回调在每一帧调用
</script>